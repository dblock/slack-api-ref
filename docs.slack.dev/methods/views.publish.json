{
  "desc": "Publish a static view for a User.",
  "http_method": "POST",
  "scope": "none",
  "json_input_supported": true,
  "no_scope_required": true,
  "rate_limits": "t4",
  "args": {
    "type": "object",
    "required": [
      "token",
      "user_id",
      "view"
    ],
    "properties": {
      "token": {
        "type": "string",
        "subtype": "auth",
        "desc": "Authentication token bearing required scopes. Tokens should be passed as an HTTP Authorization header or alternatively, as a POST parameter.",
        "example": "xxxx-xxxxxxxxx-xxxx"
      },
      "user_id": {
        "type": "string",
        "example": "U0BPQUNTA",
        "desc": "`id` of the user you want publish a view to."
      },
      "view": {
        "desc": "A [view payload](/reference/views). This must be a JSON-encoded string.",
        "schema": "publishable-view"
      },
      "hash": {
        "type": "string",
        "desc": "A string that represents view state to protect against possible race conditions.",
        "example": "156772938.1827394"
      }
    }
  },
  "output": {
    "type": "object",
    "required": [
      "view"
    ],
    "properties": {
      "view": {
        "schema": "publishable-view"
      }
    }
  },
  "errors": {
    "duplicate_external_id": {
      "desc": "Error returned when the given `external_id` has already be used."
    },
    "hash_conflict": {
      "desc": "Error returned when the provided `hash` doesn't match the current stored value."
    },
    "missing_profile_id": {
      "desc": "A profile id was not provided when trying to publish a view of type profile."
    },
    "not_allowed_token_type": {
      "desc": "The type of token your app used when requesting this method is not allowed."
    },
    "not_enabled": {
      "desc": "Error returned if a `home` view is published but the Home tab isn't enabled for the app."
    },
    "not_implemented": {
      "desc": "The profile view experiment is not enabled for this user."
    },
    "view_too_large": {
      "desc": "Error returned if the provided view is greater than 250kb."
    }
  },
  "examples": {
    "success": {
      "url": "/api/views.publish?token=YOUR_TOKEN",
      "description": "Typical success response includes the published view payload.",
      "example": {
        "ok": true,
        "view": {
          "id": "VMHU10V25",
          "team_id": "T8N4K1JN",
          "type": "home",
          "close": null,
          "submit": null,
          "blocks": [
            {
              "type": "section",
              "block_id": "2WGp9",
              "text": {
                "type": "mrkdwn",
                "text": "A simple section with some sample sentence.",
                "verbatim": false
              }
            }
          ],
          "private_metadata": "Shh it is a secret",
          "callback_id": "identify_your_home_tab",
          "state": {
            "values": {
            }
          },
          "hash": "156772938.1827394",
          "clear_on_close": false,
          "notify_on_close": false,
          "root_view_id": "VMHU10V25",
          "previous_view_id": null,
          "app_id": "AA4928AQ",
          "external_id": "",
          "bot_id": "BA13894H"
        }
      }
    },
    "error": {
      "url": "/api/views.publish?token=VALID_TOKEN",
      "description": "Typical error response, before getting to any possible validation errors.",
      "example": {
        "ok": false,
        "error": "invalid_arguments",
        "response_metadata": {
          "messages": [
            "invalid `user_id`"
          ]
        }
      }
    }
  }
}