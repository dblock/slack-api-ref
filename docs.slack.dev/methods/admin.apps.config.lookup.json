{
  "desc": "Look up the app config for connectors by their IDs",
  "http_method": "POST",
  "scope": "read",
  "scope_by_token_type": {
    "oauth": "admin.apps:read"
  },
  "json_input_supported": true,
  "rate_limits": "t2",
  "args": {
    "type": "object",
    "required": [
      "token"
    ],
    "properties": {
      "token": {
        "type": "string",
        "subtype": "auth",
        "desc": "Authentication token bearing required scopes. Tokens should be passed as an HTTP Authorization header or alternatively, as a POST parameter.",
        "example": "xxxx-xxxxxxxxx-xxxx"
      },
      "app_ids": {
        "desc": "An array of app IDs to get app configs for",
        "example": "A0A2R51A5,A0A2R51A6",
        "type": "array",
        "items": {
          "schema": "app_id"
        },
        "maxItems": 100
      },
      "rich_link_preview_types": {
        "desc": "return apps with the corresponding rich link preview layouts",
        "example": "limited_details, no_preview",
        "type": "array",
        "items": {
          "type": "string",
          "enum": [
            "all_details",
            "limited_details",
            "no_preview",
            "default_to_global_setting"
          ]
        }
      }
    }
  },
  "output": {
    "type": "object",
    "required": [
      "configs"
    ],
    "properties": {
      "configs": {
        "type": "array",
        "items": {
          "type": "object",
          "required": [
            "app_id",
            "workflow_auth_strategy",
            "domain_restrictions"
          ],
          "properties": {
            "app_id": {
              "schema": "app_id"
            },
            "workflow_auth_strategy": {
              "type": "string",
              "enum": [
                "builder_choice",
                "end_user_only"
              ]
            },
            "domain_restrictions": {
              "schema": "admin_app_domain_list"
            }
          }
        }
      }
    }
  },
  "errors": {
    "missing_args": {
      "desc": "Either app_ids or rich_link_preview_types must be provided"
    }
  },
  "examples": {
    "success": {
      "url": "/api/admin.apps.config.lookup?token=YOUR_TOKEN",
      "description": "Typical success response",
      "example": {
        "ok": true,
        "configs": [
          {
            "app_id": "A123",
            "workflow_auth_strategy": "end_user_only",
            "rich_link_preview_type": "limited_details",
            "domain_restrictions": {
              "emails": [
                "my-corp.com",
                "yourcorp.com"
              ],
              "urls": [
                "mycorp.company.com",
                "mycorp2.company.com"
              ]
            }
          },
          {
            "app_id": "A456",
            "workflow_auth_strategy": "builder_choice",
            "rich_link_preview_type": "no_preview",
            "domain_restrictions": {
              "emails": [

              ],
              "urls": [

              ]
            }
          }
        ]
      }
    }
  }
}