{
  "desc": "Set the user profile photo",
  "http_method": "POST",
  "scope": "users.profile:write",
  "rate_limits": "t2",
  "args": {
    "type": "object",
    "required": [
      "token"
    ],
    "properties": {
      "token": {
        "type": "string",
        "subtype": "auth",
        "desc": "Authentication token bearing required scopes. Tokens should be passed as an HTTP Authorization header or alternatively, as a POST parameter.",
        "example": "xxxx-xxxxxxxxx-xxxx"
      },
      "crop_w": {
        "desc": "Width/height of crop box (always square)",
        "example": "100",
        "type": "string"
      },
      "crop_x": {
        "desc": "X coordinate of top-left corner of crop box",
        "example": "10",
        "type": "string"
      },
      "crop_y": {
        "desc": "Y coordinate of top-left corner of crop box",
        "example": "15",
        "type": "string"
      },
      "image": {
        "desc": "File contents via `multipart/form-data`.",
        "example": "...",
        "schema": "post_file"
      }
    }
  },
  "output": {
    "type": "object",
    "required": [
      "profile"
    ],
    "properties": {
      "profile": {
        "type": "object",
        "patternProperties": {
          "^.*": {
            "type": "string"
          }
        }
      }
    }
  },
  "errors": {
    "bad_image": {
      "desc": "The uploaded image could not be processed - try passing a JPEG, GIF or PNG"
    },
    "internal_error": {
      "desc": "An unexpected error occurred."
    },
    "too_large": {
      "desc": "The uploaded image had excessive dimensions"
    },
    "too_many_frames": {
      "desc": "An animated GIF with too many frames was uploaded"
    }
  },
  "examples": {
    "success": {
      "url": "/api/users.setPhoto?token=YOUR_TOKEN",
      "description": "Typical success response",
      "example": {
        "ok": true
      }
    },
    "error": {
      "url": "/api/users.setPhoto?token=INVALID_TOKEN",
      "description": "Typical error response",
      "example": {
        "ok": false,
        "error": "invalid_auth"
      }
    }
  }
}