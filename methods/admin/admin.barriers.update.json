{
  "group": "admin",
  "name": "admin.barriers.update",
  "deprecated": false,
  "desc": "Update an existing Information Barrier",
  "args": {
    "barrier_id": {
      "required": true,
      "desc": "The ID of the barrier you're trying to modify."
    },
    "primary_usergroup_id": {
      "required": true,
      "desc": "The id of the primary IDP Group."
    },
    "barriered_from_usergroup_ids": {
      "required": true,
      "desc": "A list of IDP Groups ids that the primary usergroup is to be barriered from.",
      "type": "array"
    },
    "restricted_subjects": {
      "required": true,
      "desc": "What kind of interactions are blocked by this barrier? For v1, we only support a list of all 3, eg im, mpim, call.",
      "type": "array"
    }
  },
  "response": {
    "examples": [
      "{\n    \"ok\": true,\n    \"barrier\": {\n        \"id\": \"Ba03T70KB2H3\",\n        \"enterprise_id\": \"E03055H6DAS\",\n        \"primary_usergroup\": {\n            \"id\": \"S03TZK4A9H6\",\n            \"name\": \"Company That Pays Contracting Teams\"\n        },\n        \"barriered_from_usergroups\": [\n            {\n                \"id\": \"S03TNHGAUGZ\",\n                \"name\": \"Another External Contracting Team\"\n            }\n        ],\n        \"restricted_subjects\": [\n            \"im\",\n            \"mpim\",\n            \"call\"\n        ],\n        \"date_update\": 1660224825\n    }\n}",
      "{\n    \"ok\": false,\n    \"error\": \"feature_not_enabled\"\n}"
    ]
  },
  "errors": {
    "barrier_already_exists": "There already exists another barrier restricting activity between two or more of your requested usergroups.",
    "barrier_not_found": "The barrier you're trying to update cannot be found.",
    "barriered_from_usergroups_not_found": "One or more of the ids passed in for barriered_from_usergroup_ids can’t be found.",
    "feature_not_enabled": "The information barrier feature is not enabled, please reach out to your CSM.",
    "invalid_restricted_subjects": "The restricted subjects provided are invalid or not currently supported.",
    "not_an_admin": "The token provided is not associated with an org admin.",
    "primary_usergroup_not_found": "The id passed in for primary_usergroup_id can’t be found."
  }
}