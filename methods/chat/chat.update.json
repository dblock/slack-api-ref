{
  "group": "chat",
  "name": "chat.update",
  "deprecated": false,
  "desc": "Updates a message.",
  "args": {
    "as_user": {
      "required": false,
      "example": "true",
      "desc": "Pass true to update the message as the authed user. Bot users in this context are considered authed users.",
      "type": [
        "boolean",
        "string"
      ]
    },
    "attachments": {
      "required": false,
      "example": "[{\"pretext\": \"pre-hello\", \"text\": \"text-world\"}]",
      "desc": "A JSON-based array of structured attachments, presented as a URL-encoded string.",
      "type": "string",
      "format": "json"
    },
    "blocks": {
      "required": false,
      "example": "[{\"type\": \"section\", \"text\": {\"type\": \"plain_text\", \"text\": \"Hello world\"}}]",
      "desc": "A JSON-based array of structured blocks, presented as a URL-encoded string.",
      "type": "string",
      "format": "json"
    },
    "markdown_text": {
      "required": false,
      "example": "**This is bold text**",
      "desc": "Accepts message text formatted in markdown. This argument should not be used in conjunction with blocks or text. Limit this field to 12,000 characters.",
      "type": "string"
    },
    "metadata": {
      "required": false,
      "example": "{\"event_type\": \"task_created\", \"event_payload\": { \"id\": \"11223\", \"title\": \"Redesign Homepage\"}}",
      "desc": "JSON object with event_type and event_payload fields, presented as a URL-encoded string. If you don't include this field, the message's previous metadata will be retained. To remove previous metadata, include an empty object for this field. Metadata you post to Slack is accessible to any app or user who is a member of that workspace.",
      "type": "string",
      "format": "json"
    },
    "channel": {
      "required": true,
      "desc": "Channel containing the message to be updated. For direct messages, ensure that this value is a DM ID (starts with D) instead of a User ID (starts with either U or W).",
      "type": "channel"
    },
    "link_names": {
      "required": false,
      "example": "true",
      "desc": "Find and link channel names and usernames. Defaults to none. If you do not specify a value for this field, the original value set for the message will be overwritten with the default, none.",
      "type": [
        "boolean",
        "string"
      ]
    },
    "parse": {
      "required": false,
      "example": "none",
      "desc": "Change how messages are treated. Defaults to client, unlike chat.postMessage. Accepts either none or full. If you do not specify a value for this field, the original value set for the message will be overwritten with the default, client.",
      "type": "string"
    },
    "text": {
      "required": false,
      "example": "Hello world",
      "desc": "How this field works and whether it is required depends on other fields you use in your API call. See below for more detail.",
      "type": "string"
    },
    "ts": {
      "required": true,
      "example": "\"1405894322.002768\"",
      "desc": "Timestamp of the message to be updated.",
      "type": "timestamp"
    },
    "reply_broadcast": {
      "required": false,
      "example": "true",
      "desc": "Broadcast an existing thread reply to make it visible to everyone in the channel or conversation.",
      "type": "boolean"
    },
    "file_ids": {
      "required": false,
      "example": "F013GKY52QK,F013GL22D0T or [\"F013GKY52QK\",\"F013GL22D0T\"]",
      "desc": "Array of new file ids that will be sent with this message.",
      "type": "array"
    }
  },
  "response": {
    "examples": [
      "{\n    \"ok\": true,\n    \"channel\": \"C123ABC456\",\n    \"ts\": \"1401383885.000061\",\n    \"text\": \"Updated text you carefully authored\",\n    \"message\": {\n        \"text\": \"Updated text you carefully authored\",\n        \"user\": \"U34567890\"\n    }\n}",
      "{\n    \"ok\": false,\n    \"error\": \"cant_update_message\"\n}"
    ]
  },
  "errors": {
    "as_user_not_supported": "The `as_user` parameter does not function with workspace apps.",
    "block_mismatch": "Rich-text blocks cannot be replaced with non-rich-text blocks",
    "cant_broadcast_message": "Unable to broadcast this message.",
    "cant_update_message": "Authenticated user does not have permission to update this message.",
    "channel_not_found": "Value passed for `channel` was invalid.",
    "edit_window_closed": "The message cannot be edited due to the team message edit settings",
    "external_channel_migrating": "The channel is in the process of migrating and so the message cannot be updated at this time.",
    "invalid_attachments": "The attachments were invalid.",
    "invalid_blocks": "The blocks were invalid for the requesting user.",
    "invalid_metadata_format": "Invalid metadata format provided",
    "invalid_metadata_schema": "Invalid metadata schema provided",
    "is_inactive": "The message cannot be edited within a frozen, archived or deleted channel.",
    "markdown_text_conflict": "Markdown text cannot be used in conjunction with `blocks` or `text` argument.",
    "message_not_found": "No message exists with the requested timestamp.",
    "metadata_must_be_sent_from_app": "Message metadata can only be posted or updated using an app-level token",
    "metadata_too_large": "Metadata exceeds size limit",
    "msg_too_long": "Message text is too long. The `text` field cannot exceed 4,000 characters.",
    "no_dual_broadcast_content_update": "Can't broadcast an old reply and update the content at the same time.",
    "no_text": "No message text provided",
    "slack_connect_file_link_sharing_blocked": "Admin has disabled Slack File sharing in all Slack Connect communications",
    "team_not_found": "Team associated with the message and channel could not be found.",
    "too_many_attachments": "Too many attachments were provided with this message. A maximum of 100 attachments are allowed on a message.",
    "update_failed": "Internal update failure.",
    "invalid_blocks_format": "The `blocks` array is not a valid JSON object or doesn't match the Block Kit syntax.",
    "streaming_state_conflict": "The message is currently streaming text and cannot be edited."
  },
  "arg_groups": [
    {
      "args": [
        "attachments",
        "blocks",
        "text"
      ],
      "desc": "One of these arguments in addition to text is required to describe the content of the message. When attachments or blocks are included, text will be used as fallback text for notifications only.",
      "mutually_exclusive": false
    }
  ]
}